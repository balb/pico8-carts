pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
gpos=0
cspr=2

starty=112
jeffy=starty

jumping=false
startthrust=5
thrust=startthrust
gravity=0.2

slap=0
slaptime=5

function _update()
	-- ground
	gpos-=1
	if gpos==-8 then
		gpos=0
	end
	if gpos%2==0 then
		cspr+=1
	end
	-- jeff
	if cspr==5 then
		cspr=2
	end

	handle_jump()
	
	if btnp(4) then
 	slap=slaptime
 end
end

function _draw()
	cls()
	
	-- blue background
	rectfill(0,0,127,119,12)
	
	-- ground
	for i=0,16 do
		spr(1,i*8+gpos,120)
	end
	
	-- jeff
	spr(cspr,24,jeffy)
	
	if slap>0 then
		spr(5,32,jeffy)
		slap-=1
	end
	-- tree
	-- spr(17,100,112)
end
-->8
function handle_jump()
 if btnp(2) then
 	jumping=true
 end
 
 if jumping then
 	jeffy-=thrust
 	thrust-=gravity
 	if jeffy >= starty then
 		jeffy=starty
 		thrust=startthrust
 		jumping=false
 	end
 end
end
__gfx__
000000009994999400aaaaaa00aaaaaa00aaaaaa0008880000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000999499940aaa88880aaa88880aaa88880088000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700444444440aa887180aa887180aa887180888888800000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700049994999aa888118aa888118aa8881188888000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700049994999aa888888aa888888aa8888888888888800000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070044444444aa888880aa888880aa8888808888000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000949994990550055055000550550055000888888000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000949994990555055555500555555055500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000bbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000bbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
